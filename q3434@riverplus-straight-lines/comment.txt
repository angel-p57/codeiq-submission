直線の方向ベクトル (i,j) ( i＜j, gcd(i,j)=1 ) 毎に数を数える。
長い方の長さ ( j ) で見て何組入るかにより状況が変わる。
j が十分長く、2組入る余地がなければフルに直線を詰めることができるが ( (n-i)(n-j)本 )
j が短い場合は端のみ ( 2ij本 ) となる。
中間の場合は端のみと i 方向の幅をフルに詰められる組との両方を考える ( (n-i)(3j-n)+i(2n-4j)本 )
最終的には対称性から 4倍する。
